---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
---

<header>
    <nav>
        <a href="/"><img src="/WebsiteLogo-Overnight.png" alt="Logo" class="w-[130px] md:w-[165px] " srcset=""></a>
        <button class="hamburger" id="hamburger" aria-label="Open menu" aria-expanded="false">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div class="nav-links" id="navLinks">
            <div class="internal-links">
                <HeaderLink href="/">Book</HeaderLink>
                <HeaderLink href="/resources">Resources</HeaderLink>
                <HeaderLink href="/coaching">Coaching</HeaderLink>
                <HeaderLink href="/events">Events</HeaderLink>
                <HeaderLink href="/about">About</HeaderLink>
            </div>
            <div class="social-links">
                <a href="mailto:hello@overnight.education" target="_blank">
                    <span class="sr-only">Email Adddress</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 512 512">
                        <g>
                            <path fill="#000" d="M510.678,112.275c-2.308-11.626-7.463-22.265-14.662-31.054c-1.518-1.915-3.104-3.63-4.823-5.345
                            c-12.755-12.818-30.657-20.814-50.214-20.814H71.021c-19.557,0-37.395,7.996-50.21,20.814c-1.715,1.715-3.301,3.43-4.823,5.345
                            C8.785,90.009,3.63,100.649,1.386,112.275C0.464,116.762,0,121.399,0,126.087V385.92c0,9.968,2.114,19.55,5.884,28.203
                            c3.497,8.26,8.653,15.734,14.926,22.001c1.59,1.586,3.169,3.044,4.892,4.494c12.286,10.175,28.145,16.32,45.319,16.32h369.958
                            c17.18,0,33.108-6.145,45.323-16.384c1.718-1.386,3.305-2.844,4.891-4.43c6.27-6.267,11.425-13.741,14.994-22.001v-0.064
                            c3.769-8.653,5.812-18.171,5.812-28.138V126.087C512,121.399,511.543,116.762,510.678,112.275z M46.509,101.571
                            c6.345-6.338,14.866-10.175,24.512-10.175h369.958c9.646,0,18.242,3.837,24.512,10.175c1.122,1.129,2.179,2.387,3.112,3.637
                            L274.696,274.203c-5.348,4.687-11.954,7.002-18.696,7.002c-6.674,0-13.276-2.315-18.695-7.002L43.472,105.136
                            C44.33,103.886,45.387,102.7,46.509,101.571z M36.334,385.92V142.735L176.658,265.15L36.405,387.435
                            C36.334,386.971,36.334,386.449,36.334,385.92z M440.979,420.597H71.021c-6.281,0-12.158-1.651-17.174-4.552l147.978-128.959
                            l13.815,12.018c11.561,10.046,26.028,15.134,40.36,15.134c14.406,0,28.872-5.088,40.432-15.134l13.808-12.018l147.92,128.959
                            C453.137,418.946,447.26,420.597,440.979,420.597z M475.666,385.92c0,0.529,0,1.051-0.068,1.515L335.346,265.221L475.666,142.8
                            V385.92z"/>
                        </g>
                    </svg>
                </a>
                <a href="https://www.linkedin.com/in/mattmetzgar/" target="_blank">
                    <span class="sr-only">Linkedin</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 382 382">
                        <path style="fill:#0077B7;" d="M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
                        C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
                        H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
                        c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
                        s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
                        c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
                        c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
                        c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
                        L341.91,330.654L341.91,330.654z"/>
                    </svg>
                </a>
            </div>
        </div>
    </nav>
</header>
<style>
    header {
        margin: 0;
        padding: 30px 1em;
        background: white;
        box-shadow: 0 2px 8px rgba(var(--black), 5%);
    }
    nav h2 {
        margin: 0;
        font-size: 1em;
		width: 300px;
		display: block;
    }
    h2 a,
    h2 a.active {
        text-decoration: none;
    }
    nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        position: relative;
    }
    .hamburger {
        display: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 40px;
        height: 40px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
        margin-left: 1em;
        z-index: 1002;
    }
    .hamburger span {
        display: block;
        width: 28px;
        height: 3px;
        margin: 2px 0;
        background: #000; /* Set to solid black */
        border-radius: 2px;
        transition: 0.3s;
    }
    .hamburger.active span:nth-child(1) {
        transform: translateY(7px) rotate(45deg);
    }
    .hamburger.active span:nth-child(2) {
        opacity: 0;
    }
    .hamburger.active span:nth-child(3) {
        transform: translateY(-7px) rotate(-45deg);
    }
    .nav-links {
        display: flex;
        align-items: center;
        justify-content: center; /* Add this line */
        transition: right 0.3s cubic-bezier(.4,0,.2,1);
        width: 100%; /* Add this line to allow centering */
    }
    .internal-links {
        display: flex;
        justify-content: center; /* Center links horizontally */
        align-items: center;
        gap: 1.5em; /* Optional: space between links */
        width: 100%;
    }
    @media (max-width: 720px) {
        .hamburger {
            display: flex;
        }
        .nav-links {
            position: fixed;
            top: 0;
            right: -100vw;
            width: 70vw;
            max-width: 320px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 16px rgba(0,0,0,0.08);
            flex-direction: column;
            align-items: flex-start;
            padding: 4em 2em 2em 2em;
            gap: 2em;
            transition: right 0.3s cubic-bezier(.4,0,.2,1);
            z-index: 1001;
            justify-content: flex-start; /* Override for mobile */
        }
        .nav-links.open {
            right: 0;
        }
        .internal-links {
            flex-direction: column;
            align-items: flex-start;
            justify-content: flex-start;
            width: 100%;
            gap: 0;
        }
    }
    @media (max-width: 720px) {
        .internal-links, .social-links {
            display: flex;
        }
    }
    @media (max-width: 720px) {
        nav > .internal-links,
        nav > .social-links {
            display: none !important;
        }
    }
    nav a {
        padding: 1em 0.5em;
        color: var(--black);
        border-bottom: 4px solid transparent;
        text-decoration: none;
    }
    nav a.active {
        text-decoration: none;
        border-bottom-color: var(--accent);
    }
    .social-links,
    .social-links a {
        display: flex;
    }
    @media (max-width: 720px) {
        .social-links {
            display: flex;
        }
    }
</style>
<script type="text/javascript" is:inline>
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('navLinks');
    if (hamburger && navLinks) {
        hamburger.addEventListener('click', () => {
            const isOpen = navLinks.classList.toggle('open');
            hamburger.classList.toggle('active', isOpen);
            hamburger.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
            // Optional: prevent body scroll when menu is open
            document.body.style.overflow = isOpen ? 'hidden' : '';
        });
        // Optional: close menu on nav link click (mobile)
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 720) {
                    navLinks.classList.remove('open');
                    hamburger.classList.remove('active');
                    hamburger.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                }
            });
        });
    }
</script>
